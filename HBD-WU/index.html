<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HBD！W</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>
    <audio id="bgMusic" loop><source src="assets/music/birthday-piano.mp3" type="audio/mpeg"></audio>
    <audio id="birthdaySong" loop><source src="assets/music/birthday-song.mp3" type="audio/mpeg"></audio>
    <audio id="candleSfx"><source src="https://assets.mixkit.co/sfx/preview/mixkit-light-match-fire-2578.mp3" type="audio/mpeg"></audio>

    <div class="icon-container">
        <div id="envelopeIcon" class="side-icon">📩</div>
        <div id="giftIcon" class="side-icon">🎁</div>
    </div>

    <canvas id="starCanvas" class="stage stage-active"></canvas>
    <div id="particleStage" class="stage"><canvas id="particleCanvas"></canvas></div>

    <div id="cakeStage" class="stage">
        <div class="cake-wrapper">
            <div class="candle-hint" id="candleHint">✨ 点击火苗 吹灭许愿 ✨</div>
            
            <div class="cake-visual">
                <div class="cake-layers">
                    <div class="layer layer-5">
                        <div class="cream-wave">
                            <div class="dots"></div>
                        </div>
                        <div class="candle-box" id="candleBox">
                            <div class="candle">
                                <div class="flame" id="candleFlame"></div>
                            </div>
                        </div>
                    </div>
                    <div class="layer layer-4"></div>
                    <div class="layer layer-3"></div>
                    <div class="layer layer-2"></div>
                    <div class="layer layer-1">
                        <div class="ribbon-bows">🎀🎀🎀🎀🎀🎀🎀🎀🎀🎀</div>
                    </div>
                </div>
                <div class="cake-plate"></div>
            </div>
        </div>
    </div>

    <div id="envelopeOverlay" class="overlay">
        <div class="imessage-container">
            <div class="imessage-header">
                <div class="contact-avatar">吴</div>
                <div class="contact-name">吴</div>
            </div>
            <div class="imessage-content">
                <div class="bubble recipient">TO：吴</div>
                <div class="bubble sender">
                    展信佳！<br><br>
                    不知道这封信会是以什么形式展示在你面前，但是我想了一个很酷的方式:P（虽然不一定能成功）<br>
                    开始写上的的时候之前的很多想法好像都消失了，不知道写点什么...但是我想作为彩蛋进行一个display，fine。<br><br>
                    <b>生日快乐，这是最主要的。</b><br><br>
                    命运使然，我们的时间地点好像一直不太凑巧，导致频频错过/没约上，but never mind。虽然这一年以来都变得很忙很忙，联系也慢慢变少，共同话题慢慢减少，大家开始走向不同的道路，或许已经不是生活中最近的最好的朋友但是还算好朋友。<br><br>
                    你是一个很好的很会给别人情绪价值的人，这不是我擅长的。聊天或许不能解决一切但是能让信息对等，如果你需要的话，我想我应该一直会在。说不准今年还有机会约上一次，没有那就明年再见👋<br><br>
                    挑了比较好看的礼物，文艺风感觉和你比较适配，希望能派的上用处，工位小摆件？<br><br>
                    Anyway 生日快乐!!!<br>祝 工作顺利 身体健康
                </div>
                <div class="bubble signature">写于一个不想改论文的下午 —— 陈晓珺</div>
            </div>
            <div class="imessage-footer">点击空白处收起</div>
        </div>
    </div>

    <div id="giftOverlay" class="overlay">
        <div class="flat-gift-box" id="giftBoxTrigger">
            <div class="gift-box">
                <div class="gift-lid"></div>
                <div class="gift-ribbon-vertical"></div>
                <div class="gift-ribbon-horizontal"></div>
            </div>
            <div class="gift-popup-card" id="giftCard">下次见面给你！</div>
        </div>
    </div>

    <script src="particle-animation.js"></script>
    <script src="script.js"></script>
</body>
</html>